{"ast":null,"code":"var _jsxFileName = \"/Users/konnos/Documents/Web Dev Course/take-home-fronteng-cb53/patient-form/src/ContactForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport ContactField from \"./ContactField\";\nimport Button from \"./Button\";\nimport './ContactForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContactForm = () => {\n  _s();\n  // States to keep track of input and error values\n  const [name, setName] = useState('');\n  const [nameError, setNameError] = useState('');\n  const [surname, setSurname] = useState('');\n  const [surnameError, setSurnameError] = useState('');\n  const [phone, setPhone] = useState('');\n  const [phoneError, setPhoneError] = useState('');\n  const [birthDate, setBirthDate] = useState('');\n  const [text, setText] = useState('');\n  const formRef = useRef(null);\n  const isValidPhone = phone => {\n    const phoneRegex = /^\\+3069\\d{8}$/;\n    return phoneRegex.test(phone);\n  };\n  const submitContact = async newContact => {\n    try {\n      const response = await fetch('http://127.0.0.1:8081/contacts', {\n        method: 'POST',\n        body: JSON.stringify({\n          name: newContact.name,\n          surname: newContact.surname,\n          phone: newContact.phone,\n          birthDate: newContact.birthDate,\n          text: newContact.text\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Error: ${response.status} - ${response.statusText}`);\n      }\n    } catch (error) {\n      console.error('Error fetching contacts:', error);\n    }\n  };\n\n  // Event handler to update state when input values change\n  const handleInputChange = (value, setInputFunction) => {\n    setInputFunction(value);\n  };\n\n  // Event handler to handle form submission\n  const handleSubmit = e => {\n    let isValidForm = true;\n    e.preventDefault();\n    console.log('Submitted values:', name);\n    // Add logic for handling the form submission\n    formRef.current.reset();\n    setName('');\n    setSurname('');\n    setPhone('');\n    setBirthDate('');\n    setText('');\n\n    // Do Field Validation\n    if (!name) {\n      setNameError(\"Name is a required field.\");\n      isValidForm = false;\n    } else {\n      setNameError(\"\");\n    }\n    if (!surname) {\n      setSurnameError(\"Surname is a required field.\");\n      isValidForm = false;\n    } else {\n      setSurnameError(\"\");\n    }\n    if (!isValidPhone(phone)) {\n      setPhoneError(\"The phone you entered is not valid.\");\n      isValidForm = false;\n    } else {\n      setPhoneError(\"\");\n    }\n    const contact = {\n      name,\n      surname,\n      phone,\n      birthDate,\n      text\n    };\n    if (isValidForm) {\n      submitContact(contact);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contactFormContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      ref: formRef,\n      className: \"contactForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Patient Contact Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ContactField, {\n        fieldHead: \"Name\",\n        fieldName: \"name\",\n        placeholder: \"Name\",\n        inputType: \"text\",\n        value: name,\n        onChange: value => handleInputChange(value, setName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), nameError && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: nameError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(ContactField, {\n        fieldHead: \"Surname\",\n        fieldName: \"surname\",\n        placeholder: \"Surname\",\n        inputType: \"text\",\n        value: surname,\n        onChange: value => handleInputChange(value, setSurname)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), surnameError && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: surnameError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(ContactField, {\n        fieldHead: \"Phone Number\",\n        fieldName: \"phone\",\n        placeholder: \"Phone\",\n        inputType: \"phone\",\n        value: phone,\n        onChange: value => handleInputChange(value, setPhone)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), phoneError && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: 'red'\n        },\n        children: surnameError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(ContactField, {\n        fieldHead: \"Date of Birth\",\n        fieldName: \"dateOfBirth\",\n        inputType: \"date\",\n        value: birthDate,\n        onChange: value => handleInputChange(value, setBirthDate)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ContactField, {\n        fieldHead: \"Details\",\n        fieldName: \"text\",\n        placeholder: \"Describe your issue.\",\n        inputType: \"text\",\n        value: text,\n        onChange: value => handleInputChange(value, setText)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this);\n};\n_s(ContactForm, \"UxUvQ0Q2YDW1u767khri6AcGf4M=\");\n_c = ContactForm;\nexport default ContactForm;\nvar _c;\n$RefreshReg$(_c, \"ContactForm\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ContactField","Button","jsxDEV","_jsxDEV","ContactForm","_s","name","setName","nameError","setNameError","surname","setSurname","surnameError","setSurnameError","phone","setPhone","phoneError","setPhoneError","birthDate","setBirthDate","text","setText","formRef","isValidPhone","phoneRegex","test","submitContact","newContact","response","fetch","method","body","JSON","stringify","headers","ok","Error","status","statusText","error","console","handleInputChange","value","setInputFunction","handleSubmit","e","isValidForm","preventDefault","log","current","reset","contact","className","children","ref","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","fieldHead","fieldName","placeholder","inputType","onChange","style","color","type","_c","$RefreshReg$"],"sources":["/Users/konnos/Documents/Web Dev Course/take-home-fronteng-cb53/patient-form/src/ContactForm.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport ContactField from \"./ContactField\";\nimport Button from \"./Button\";\nimport './ContactForm.css'\n\nconst ContactForm = () => {\n    // States to keep track of input and error values\n    const [name, setName] = useState('');\n    const [nameError, setNameError] = useState('');\n    const [surname, setSurname] = useState('');\n    const [surnameError, setSurnameError] = useState('');\n    const [phone, setPhone] = useState('');\n    const [phoneError, setPhoneError] = useState('');\n    const [birthDate, setBirthDate] = useState('');\n    const [text, setText] = useState('');\n\n    const formRef = useRef(null);\n\n    const isValidPhone = (phone) => {\n        const phoneRegex = /^\\+3069\\d{8}$/;\n        return phoneRegex.test(phone);\n    };\n    \n    const submitContact = async (newContact) => {\n        try {\n            const response = await fetch('http://127.0.0.1:8081/contacts', {\n            method: 'POST',\n            body: JSON.stringify({\n                name: newContact.name,\n                surname: newContact.surname,\n                phone: newContact.phone,\n                birthDate: newContact.birthDate,\n                text: newContact.text\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            });\n        \n            if (!response.ok) {\n            throw new Error(`Error: ${response.status} - ${response.statusText}`);\n            }\n\n        } catch (error) {\n            console.error('Error fetching contacts:', error);\n        }\n    };\n   \n\n    // Event handler to update state when input values change\n    const handleInputChange = (value, setInputFunction) => {\n        setInputFunction(value);\n    };\n\n    // Event handler to handle form submission\n    const handleSubmit = (e) => {\n\n        let isValidForm = true;\n        e.preventDefault();\n        console.log('Submitted values:', name);\n        // Add logic for handling the form submission\n        formRef.current.reset();\n        setName('');\n        setSurname('');\n        setPhone('');\n        setBirthDate('');\n        setText('');\n       \n       // Do Field Validation\n        if(!name){\n            setNameError(\"Name is a required field.\");\n            isValidForm = false;\n        } else {\n            setNameError(\"\");\n        }\n        if(!surname){\n            setSurnameError(\"Surname is a required field.\");\n            isValidForm = false;\n        } else {\n            setSurnameError(\"\");\n        }\n        if(!isValidPhone(phone)){\n            setPhoneError(\"The phone you entered is not valid.\");\n            isValidForm = false;\n        } else {\n            setPhoneError(\"\")\n        }\n\n        const contact = {\n            name,\n            surname,\n            phone,\n            birthDate,\n            text,\n        };\n        \n        if(isValidForm){\n            submitContact(contact);\n        }\n    };\n\n    return(\n        <div className=\"contactFormContainer\">\n        <form ref={formRef} className=\"contactForm\" onSubmit={handleSubmit}>\n            <h1> Patient Contact Details</h1>\n            <ContactField \n                fieldHead='Name' \n                fieldName='name' \n                placeholder='Name' \n                inputType='text'\n                value={name} \n                onChange={(value) => handleInputChange(value, setName)}\n            />\n            {nameError && <span style={{ color: 'red' }}>{nameError}</span>}\n            <ContactField \n                fieldHead='Surname' \n                fieldName='surname' \n                placeholder='Surname' \n                inputType='text'\n                value={surname}\n                onChange={(value) => handleInputChange(value, setSurname)}\n            />\n            {surnameError && <span style={{ color: 'red' }}>{surnameError}</span>}\n            <ContactField \n                fieldHead='Phone Number' \n                fieldName='phone' \n                placeholder='Phone' \n                inputType='phone'\n                value={phone}\n                onChange={(value) => handleInputChange(value, setPhone)}\n            />\n            {phoneError && <span style={{ color: 'red' }}>{surnameError}</span>}\n            <ContactField \n                fieldHead='Date of Birth' \n                fieldName='dateOfBirth' \n                inputType='date'\n                value={birthDate}\n                onChange={(value) => handleInputChange(value, setBirthDate)}\n            />\n            <ContactField \n                fieldHead='Details' \n                fieldName='text' \n                placeholder='Describe your issue.' \n                inputType='text'\n                value={text}\n                onChange={(value) => handleInputChange(value, setText)}\n            />\n            <button type='submit'>Submit</button>\n        </form>\n        </div>\n    )\n}\n\nexport default ContactForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}